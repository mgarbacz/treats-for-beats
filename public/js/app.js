(function(){"use strict";var n="undefined"!=typeof window?window:global;if("function"!=typeof n.require){var t={},e={},r=function(n,t){return{}.hasOwnProperty.call(n,t)},i=function(n,t){var e,r,i=[];e=/^\.\.?(\/|$)/.test(t)?[n,t].join("/").split("/"):t.split("/");for(var o=0,u=e.length;u>o;o++)r=e[o],".."===r?i.pop():"."!==r&&""!==r&&i.push(r);return i.join("/")},o=function(n){return n.split("/").slice(0,-1).join("/")},u=function(t){return function(e){var r=o(t),u=i(r,e);return n.require(u)}},a=function(n,t){var r={id:n,exports:{}};t(r.exports,u(n),r);var i=e[n]=r.exports;return i},c=function(n){var o=i(n,".");if(r(e,o))return e[o];if(r(t,o))return a(o,t[o]);var u=i(o,"./index");if(r(e,u))return e[u];if(r(t,u))return a(u,t[u]);throw Error('Cannot find module "'+n+'"')},s=function(n,e){if("object"==typeof n)for(var i in n)r(n,i)&&(t[i]=n[i]);else t[n]=e};n.require=c,n.require.define=s,n.require.register=s,n.require.brunch=!0}})(),window.require.register("initialize",function(n,t){var e;e=t("treats"),window.onload=function(){var n;return n=new e,n.init()?($("#play-song").click(function(){return n.playSong()}),$("#stop-song").click(function(){return n.stopSong()})):($("#treat-container").hide(),$("#browser-warning").show())}}),window.require.register("treats",function(n,t,e){var r;e.exports=r=function(){function n(){}var t,e,r,i,o,u,a,c;return e=null,i=null,o=null,r=null,u="music/polygons.mp3",t=null,a=document.getElementById("treat"),c=a.getContext("2d"),n.prototype.init=function(){if("undefined"!=typeof AudioContext)i=new AudioContext;else{if("undefined"==typeof webkitAudioContext)return!1;i=new webkitAudioContext}return window.requestAnimationFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame,c.canvas.width=window.innerWidth,c.canvas.height=window.innerHeight,this.loadSong(),!0},n.prototype.loadSong=function(){var n=this;return e=new Audio,e.src=u,e.controls=!1,e.autoplay=!1,e.loop=!1,$("#treat-container").append(e),e.addEventListener("canplay",function(){return n.analyseSong()})},n.prototype.analyseSong=function(){return o=i.createMediaElementSource(e),r=i.createAnalyser(),o.connect(r),r.connect(i.destination)},n.prototype.playSong=function(){return e.play(),this.animate()},n.prototype.stopSong=function(){return e.pause()},n.prototype.animate=function(){var n,e,i,o,u,s,f,l=this;for(c.clearRect(0,0,a.width,a.height),t=new Uint8Array(r.frequencyBinCount),r.getByteFrequencyData(t),n="#44bb44",e="#bb4480",i="#8044bb",c.beginPath(),u=s=0,f=t.length;f>=0?f>=s:s>=f;u=f>=0?++s:--s)o=t[u],c.arc(c.canvas.width/300*u,c.canvas.height/2,o,0,2*Math.PI,!1);return c.fillStyle=n,c.fill(),window.requestAnimationFrame(function(){return l.animate()})},n}()});